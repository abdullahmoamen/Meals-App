{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Abdullah/Desktop/React_course_UDEMY-resources/meal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Abdullah/Desktop/React_course_UDEMY-resources/meal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Abdullah/Desktop/React_course_UDEMY-resources/meal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import classes from'./AvaliableMeals.module.css';import Card from'../Ui/Card';import MealItem from'./MealItem/MealItem';import Loader from'../Other/Loader';import NiceError from'./Error';// const DUMMY_MEALS = [\n//     {\n//     id: 'm2',\n//     name: 'kosharee',\n//     description: 'A Egyptian specialty!',\n//     price: 10.00,\n//     },\n//     {\n//     id: 'm1',\n//     name: 'Sushi',\n//     description: 'Finest fish and veggies',\n//     price: 23.49,\n//     },\n//     {\n//     id: 'm3',\n//     name: 'Barbecue Burger',\n//     description: 'American, raw, meaty',\n//     price: 12.99,\n//     },\n//     {\n//     id: 'm4',\n//     name: 'Green Bowl',\n//     description: 'Healthy...and green...',\n//     price: 18.99,\n//     },\n// ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";function AvaliableMeals(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),httpError=_useState6[0],setHttpError=_useState6[1];useEffect(function(){setIsLoading(true);var fetchMeals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,responseData,loadedMeals,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://meals-7c8f6-default-rtdb.firebaseio.com/meals.json');case 2:response=_context.sent;if(response.ok){_context.next=5;break;}throw new Error('error');case 5:_context.next=7;return response.json();case 7:responseData=_context.sent;loadedMeals=[];for(key in responseData){loadedMeals.push({id:key,name:responseData[key].name,discription:responseData[key].discription,price:responseData[key].price});}setMeals(loadedMeals);setIsLoading(false);case 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchMeals(){return _ref.apply(this,arguments);};}();fetchMeals().catch(function(error){setIsLoading(false);setHttpError(error.message);});},[]);if(isLoading){return/*#__PURE__*/_jsx(Loader,{});}if(httpError){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NiceError,{})});}var mealList=meals.map(function(meal){return/*#__PURE__*/_jsx(MealItem,{id:meal.id,price:meal.price,name:meal.name,description:meal.description},meal.id);});return/*#__PURE__*/_jsx(\"section\",{className:classes.meals,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"ul\",{children:mealList})})});};export default AvaliableMeals;","map":{"version":3,"sources":["C:/Users/Abdullah/Desktop/React_course_UDEMY-resources/meal/src/components/Meals/AvaliableMeals.js"],"names":["React","useEffect","useState","classes","Card","MealItem","Loader","NiceError","AvaliableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetchMeals","fetch","response","ok","Error","json","responseData","loadedMeals","key","push","id","name","discription","price","catch","error","message","mealList","map","meal","description"],"mappings":"mhBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,SAAtB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;2CAEA,QAASC,CAAAA,cAAT,EAA0B,CAEtB,cAAuBN,QAAQ,CAAC,EAAD,CAA/B,wCAAOO,KAAP,eAAaC,QAAb,eACA,eAA+BR,QAAQ,CAAC,KAAD,CAAvC,yCAAOS,SAAP,eAAiBC,YAAjB,eACA,eAA+BV,QAAQ,EAAvC,yCAAOW,SAAP,eAAiBC,YAAjB,eAEAb,SAAS,CAAC,UAAI,CACVW,YAAY,CAAC,IAAD,CAAZ,CACA,GAAMG,CAAAA,UAAU,0FAAG,mMACQC,CAAAA,KAAK,CAAC,4DAAD,CADb,QACTC,QADS,kBAEXA,QAAQ,CAACC,EAFE,8BAGL,IAAIC,CAAAA,KAAJ,CAAU,OAAV,CAHK,8BAMYF,CAAAA,QAAQ,CAACG,IAAT,EANZ,QAMTC,YANS,eAQTC,WARS,CAQI,EARJ,CAUf,IAAUC,GAAV,GAAiBF,CAAAA,YAAjB,CAA8B,CAC1BC,WAAW,CAACE,IAAZ,CAAiB,CACbC,EAAE,CAACF,GADU,CAEbG,IAAI,CAACL,YAAY,CAACE,GAAD,CAAZ,CAAkBG,IAFV,CAGbC,WAAW,CAACN,YAAY,CAACE,GAAD,CAAZ,CAAkBI,WAHjB,CAIbC,KAAK,CAACP,YAAY,CAACE,GAAD,CAAZ,CAAkBK,KAJX,CAAjB,EAOH,CACDlB,QAAQ,CAACY,WAAD,CAAR,CACAV,YAAY,CAAC,KAAD,CAAZ,CApBe,uDAAH,kBAAVG,CAAAA,UAAU,0CAAhB,CAsBIA,UAAU,GAAGc,KAAb,CAAmB,SAACC,KAAD,CAAS,CACxBlB,YAAY,CAAC,KAAD,CAAZ,CACAE,YAAY,CAACgB,KAAK,CAACC,OAAP,CAAZ,CACH,CAHD,EAKP,CA7BQ,CA6BP,EA7BO,CAAT,CA+BA,GAAGpB,SAAH,CAAa,CACT,mBACI,KAAC,MAAD,IADJ,CAGH,CAED,GAAGE,SAAH,CAAa,CACT,mBACI,kCACI,KAAC,SAAD,IADJ,EADJ,CAKH,CAED,GAAMmB,CAAAA,QAAQ,CAACvB,KAAK,CAACwB,GAAN,CAAU,SAACC,IAAD,qBACrB,KAAC,QAAD,EACA,EAAE,CAAEA,IAAI,CAACT,EADT,CAGA,KAAK,CAAES,IAAI,CAACN,KAHZ,CAIA,IAAI,CAAEM,IAAI,CAACR,IAJX,CAKA,WAAW,CAAEQ,IAAI,CAACC,WALlB,EAEKD,IAAI,CAACT,EAFV,CADqB,EAAV,CAAf,CAYA,mBACI,gBAAS,SAAS,CAAEtB,OAAO,CAACM,KAA5B,uBACI,KAAC,IAAD,wBACI,oBAAKuB,QAAL,EADJ,EADJ,EADJ,CAOC,EAGL,cAAexB,CAAAA,cAAf","sourcesContent":["import React , {useEffect,useState} from 'react';\r\nimport classes from './AvaliableMeals.module.css';\r\nimport Card from '../Ui/Card';\r\nimport MealItem from './MealItem/MealItem';\r\nimport Loader from '../Other/Loader'\r\nimport NiceError from './Error';\r\n\r\n// const DUMMY_MEALS = [\r\n//     {\r\n//     id: 'm2',\r\n//     name: 'kosharee',\r\n//     description: 'A Egyptian specialty!',\r\n//     price: 10.00,\r\n//     },\r\n//     {\r\n//     id: 'm1',\r\n//     name: 'Sushi',\r\n//     description: 'Finest fish and veggies',\r\n//     price: 23.49,\r\n//     },\r\n//     {\r\n//     id: 'm3',\r\n//     name: 'Barbecue Burger',\r\n//     description: 'American, raw, meaty',\r\n//     price: 12.99,\r\n//     },\r\n//     {\r\n//     id: 'm4',\r\n//     name: 'Green Bowl',\r\n//     description: 'Healthy...and green...',\r\n//     price: 18.99,\r\n//     },\r\n// ];\r\n\r\nfunction AvaliableMeals() {\r\n\r\n    const [meals,setMeals]=useState([]);\r\n    const [isLoading,setIsLoading]=useState(false);\r\n    const [httpError,setHttpError]=useState()\r\n\r\n    useEffect(()=>{\r\n        setIsLoading(true);\r\n        const fetchMeals = async ()=>{\r\n            const response = await fetch('https://meals-7c8f6-default-rtdb.firebaseio.com/meals.json');\r\n            if(!response.ok) {\r\n                throw new Error('error')\r\n            }\r\n\r\n            const responseData = await response.json();\r\n\r\n            const loadedMeals =[]\r\n\r\n            for(const key in responseData){\r\n                loadedMeals.push({\r\n                    id:key,\r\n                    name:responseData[key].name,\r\n                    discription:responseData[key].discription,\r\n                    price:responseData[key].price\r\n                })\r\n\r\n            }\r\n            setMeals(loadedMeals);\r\n            setIsLoading(false)\r\n        }\r\n            fetchMeals().catch((error)=>{\r\n                setIsLoading(false);\r\n                setHttpError(error.message);\r\n            });\r\n        \r\n    },[])\r\n\r\n    if(isLoading){\r\n        return (\r\n            <Loader/>\r\n        )\r\n    }\r\n    \r\n    if(httpError){\r\n        return(\r\n            <div>\r\n                <NiceError />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const mealList=meals.map((meal)=>(\r\n        <MealItem\r\n        id={meal.id}\r\n        key={meal.id}\r\n        price={meal.price}\r\n        name={meal.name}\r\n        description={meal.description}\r\n        \r\n        />\r\n        \r\n        ));\r\n\r\n    return (\r\n        <section className={classes.meals}> \r\n            <Card>\r\n                <ul>{mealList}</ul>\r\n            </Card>\r\n        </section>\r\n    )\r\n    };\r\n\r\n\r\nexport default AvaliableMeals\r\n"]},"metadata":{},"sourceType":"module"}